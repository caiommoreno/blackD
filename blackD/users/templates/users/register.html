
{% extends "base.html" %}
{% load static %}

{% block sidebar %} {% endblock %}
{% block navbar %} {% endblock %}

{% block body %}

        <div class="container mx-0">
          <div class="card">
            <form
              role="form"
              method="post"
              novalidate
              id="validate-form">

              {% csrf_token %}
              {{ form.non_field_errors }}

              <header class="card-header">
                <h5 class="title">Cadastro</h5>

                <h6 class="card-category">
                  {% if msg %}
                  <span class="text-danger">{{ msg }}</span>
                  {% else %}
                  Crie sua conta.
                  {% endif %}
                </h6>
              </header>
              {% if success %}
                <p>
                  Registrado! <a href={% url 'login' %}>Clique aqui</a> para entrar na plataforma.
                </p>
              {% else %}

              <div class="card-body">
                <div class="row">
                  <div class="col-md-6 col-lg-5 col-xl-4">
                    <div class="form-group has-label">
                      <div>
                        <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
                        {{ form.username }}
                      </div>
                    </div>
                  </div>
                </div>
                <span class="text-danger">{{ form.username.errors }}</span>

                <div class="row">
                  <div class="col-md-6 col-lg-5 col-xl-4">
                    <div class="form-group has-label">
                      <div>
                        <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                        {{ form.email }}
                      </div>
                    </div>
                  </div>
                </div>
                <span class="text-danger">{{ form.email.errors }}</span>

                <div class="row">
                  <div class="col-md-6 col-lg-5 col-xl-4">
                    <div class="form-group has-label">
                      <div>
                        <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
                        {{ form.password1 }}
                      </div>
                    </div>
                  </div>
                </div>
                <span class="text-danger">{{ form.password1.errors }}</span>

                <div class="row">
                  <div class="col-md-6 col-lg-5 col-xl-4">
                    <div class="form-group has-label">
                      <div>
                        <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
                        {{ form.password2 }}
                      </div>
                    </div>
                  </div>
                </div>
                <span class="text-danger">{{ form.password2.errors }}</span>

              </div>

              <footer class="card-footer">
                <div
                  class="d-flex flex-column flex-sm-row align-items-sm-center"
                >
                  <button
                    type="submit"
                    name="register"
                    class="btn btn-fill btn-primary"
                  >
                    Criar conta
                  </button>

                  <div class="mt-2 mt-sm-0 ml-sm-2">
                    JÃ¡ tem uma conta?
                    <a href="{% url 'login' %}" class="text-primary">Entrar</a>
                  </div>
                </div>
                {% endif %}
              </footer>
            </form>
          </div>
        </div>
      </main>
{% endblock %}